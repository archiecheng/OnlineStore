<% content_for :title, @product.name %>

<div class="card bg-base-100 shadow-xl p-6">
  <div class="flex gap-6">
    <div class="max-w-64">
      <%= image_tag(@product.image.presence || "https://via.placeholder.com/200", class: "rounded") %>
    </div>
    <div class="flex-1 space-y-3">
      <h1 class="text-3xl font-bold"><%= @product.name %></h1>
      <p class="text-lg">$<%= @product.price %></p>
      <p class="text-gray-700"><%= @product.description %></p>
      <div class="flex gap-3">
        <%= form_with url: cart_items_path, method: :post, local: true do |form| %>
          <%= form.hidden_field :product_id, value: @product.id %>
          <%= form.submit "Add to Cart", class: "btn bg-red-400 text-white" %>
        <% end %>
        <% if admin_user? %>
          <%= link_to "Edit", edit_product_path(@product), class: "btn" %>
          <%= link_to "Delete", @product, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-error" %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<div class="mt-4">
  <%= link_to "Back to products", products_path, class: "link link-primary" %>
</div>
